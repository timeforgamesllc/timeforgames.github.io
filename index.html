<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Time for Games | eBay Listings</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header class="navbar">
    <div class="logo">Time for Games</div>
    <nav>
      <a href="#about">About</a>
      <a href="#ebay-listings">eBay Listings</a>
      <a href="#socials">Socials</a>
    </nav>
  </header>

  <section id="hero" class="section-hero">
    <h1>Welcome to Time for Games</h1>
    <p>Your one-stop shop for games and collectibles!</p>
  </section>

  <section id="about" class="section-about">
    <h2>About Time for Games</h2>
    <p>We specialize in rare, vintage, and modern games — directly from our verified eBay store.</p>
  </section>

  <section id="ebay-listings" class="section-ebay">
    <h2>Our eBay Listings</h2>
    <div id="listings-container">Loading listings...</div>
  </section>

  <section id="socials" class="section-socials">
    <h2>Follow Us</h2>
    <div class="socials-container">
      <a href="#" class="social-card">
        <img src="https://via.placeholder.com/250x150?text=Instagram" alt="Instagram">
        <span>Instagram</span>
      </a>
      <a href="#" class="social-card">
        <img src="https://via.placeholder.com/250x150?text=Twitter" alt="Twitter">
        <span>Twitter</span>
      </a>
      <a href="#" class="social-card">
        <img src="https://via.placeholder.com/250x150?text=YouTube" alt="YouTube">
        <span>YouTube</span>
      </a>
    </div>
  </section>

  <footer>
    <p>© <span id="year"></span> Time for Games | Powered by GitHub Pages</p>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const listingsContainer = document.getElementById("listings-container");

    async function fetchEbayListings() {
      try {
        const response = await fetch("https://YOUR-REPLIT-URL-HERE/listings");
        const data = await response.json();
        displayListings(data.itemSummaries || []);
      } catch (error) {
        listingsContainer.innerHTML = "<p>Unable to load listings right now.</p>";
        console.error("Fetch error:", error);
      }
    }

    function displayListings(items) {
      if (items.length === 0) {
        listingsContainer.innerHTML = "<p>No listings found.</p>";
        return;
      }

      listingsContainer.innerHTML = items.map(item => `
        <div class="listing-card">
          <img src="${item.image?.imageUrl || 'https://via.placeholder.com/200x200?text=No+Image'}" alt="${item.title}">
          <h3>${item.title}</h3>
          <p>$${item.price?.value || 'N/A'} ${item.price?.currency || ''}</p>
          <a href="${item.itemWebUrl}" target="_blank">View on eBay</a>
        </div>
      `).join("");
    }

    fetchEbayListings();
  </script>

</body>
</html>
